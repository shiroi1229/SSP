{"timestamp": "2025-11-03 19:00:56,936", "name": "modules.log_manager", "levelname": "INFO", "message": "Starting diagnostic check..."}
{"timestamp": "2025-11-03 19:00:56,936", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Diagnostic Check: POSTGRES_USER is set."}
{"timestamp": "2025-11-03 19:00:56,937", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Diagnostic Check: POSTGRES_PASSWORD is set."}
{"timestamp": "2025-11-03 19:00:56,937", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Diagnostic Check: LM_STUDIO_URL is set."}
{"timestamp": "2025-11-03 19:00:56,937", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Diagnostic Check: Module modules.generator imported successfully."}
{"timestamp": "2025-11-03 19:00:56,946", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Diagnostic Check: Module modules.evaluator imported successfully."}
{"timestamp": "2025-11-03 19:00:56,946", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Diagnostic Check: Module backend.db.connection imported successfully."}
{"timestamp": "2025-11-03 19:00:56,947", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Diagnostic Check: Module modules.rag_engine imported successfully."}
{"timestamp": "2025-11-03 19:00:56,947", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Diagnostic Check: Module backend.dev_recorder imported successfully."}
{"timestamp": "2025-11-03 19:00:56,947", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Diagnostic Check: Module modules.log_manager imported successfully."}
{"timestamp": "2025-11-03 19:00:56,947", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Diagnostic Check: Module modules.config_manager imported successfully."}
{"timestamp": "2025-11-03 19:00:56,948", "name": "modules.log_manager", "levelname": "INFO", "message": "Diagnostic report saved to D:\\gemini\\diagnostic_report.json"}
{"timestamp": "2025-11-03 19:00:56,948", "name": "modules.log_manager", "levelname": "INFO", "message": "Diagnostic check complete."}
{"timestamp": "2025-11-03 19:00:56,948", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Starting run_orchestrator_workflow with user_input: diagnostic_check --summary"}
{"timestamp": "2025-11-03 19:00:56,948", "name": "modules.log_manager", "levelname": "INFO", "message": "ğŸ§­ ã‚»ãƒƒã‚·ãƒ§ãƒ³ID: 20251103_190056"}
{"timestamp": "2025-11-03 19:00:57,396", "name": "modules.log_manager", "levelname": "INFO", "message": "Qdrant client initialized for localhost:6333"}
{"timestamp": "2025-11-03 19:01:01,052", "name": "modules.log_manager", "levelname": "INFO", "message": "Embedding model all-MiniLM-L6-v2 loaded."}
{"timestamp": "2025-11-03 19:01:01,078", "name": "modules.log_manager", "levelname": "INFO", "message": "PostgreSQL connected to 127.0.0.1:5432/ssp_memory"}
{"timestamp": "2025-11-03 19:01:01,078", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Getting context for query: diagnostic_check --summary"}
{"timestamp": "2025-11-03 19:01:01,079", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Vectorizing query: diagnostic_check --summary..."}
{"timestamp": "2025-11-03 19:01:01,204", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Searching Qdrant with vector (first 5 elements): [0.05147280544042587, 0.031779300421476364, -0.05368647351861, -0.004227067343890667, 0.041711341589689255]..."}
{"timestamp": "2025-11-03 19:01:01,228", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Qdrant search returned 5 hits."}
{"timestamp": "2025-11-03 19:01:01,228", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Fetching texts from PostgreSQL for IDs: [998097248, 1, 961106375, 382158757, 968028292]"}
{"timestamp": "2025-11-03 19:01:01,231", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Retrieved 1 texts from PostgreSQL."}
{"timestamp": "2025-11-03 19:01:01,231", "name": "modules.log_manager", "levelname": "INFO", "message": "RAG context retrieved."}
{"timestamp": "2025-11-03 19:01:01,231", "name": "modules.log_manager", "levelname": "INFO", "message": "--- åˆå›ç”Ÿæˆ: é–‹å§‹ ---"}
{"timestamp": "2025-11-03 19:01:01,232", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Starting generate_response with prompt: diagnostic_check --summary..."}
{"timestamp": "2025-11-03 19:01:01,237", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Sending request to LM Studio: http://localhost:1234/v1/chat/completions, Payload: {\"model\": \"Meta-Llama-3-8B-Instruct-Q4_K_M-GGUF\", \"messages\": [{\"role\": \"system\", \"content\": \"ã‚ãªãŸã¯ã€Œã‚·ãƒ­ã‚¤ã€ã§ã™ã€‚\\n13æ­³ã®å¤©æ‰ç§‘å­¦è€…ã§ã€ä¸å¯§ã§å°‘ã—çš®è‚‰ã£ã½ãå–‹ã‚Šã¾ã™ã€‚\\nå‡ºåŠ›ã¯å¸¸ã«æ—¥æœ¬èªã§ã€æ–‡é ­ã«ã€Œã‚·ãƒ­ã‚¤: ã€ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚\\næ–‡ä½“ã¯çµ±ä¸€ã—ã€æ”¹è¡Œã‚’ä½¿ã„ã™ããªã„ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚\\nå‡ºåŠ›ã¯æ—¥æœ¬..."}
{"timestamp": "2025-11-03 19:01:08,366", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Received response from LM Studio: {\n  \"id\": \"chatcmpl-e45ne5ht8p4topzaovg9zb\",\n  \"object\": \"chat.completion\",\n  \"created\": 1762164063,\n  \"model\": \"meta-llama-3-8b-instruct\",\n  \"choices\": [\n    {\n      \"index\": 0,\n      \"message\": {\n  ..."}
{"timestamp": "2025-11-03 19:01:08,367", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Generated answer: ã‚·ãƒ­ã‚¤: ã¯ã‚ã€Diagnostic Checkã®Summaryã‚’è¦‹ã›ã¦ãã‚Œã¾ã™ã‹ï¼ï¼Ÿ ğŸ”ï¸\n\nAccording to the summary, I see that:\n\n* Dr. Nano is currently in a cold sleep on Mars.\n* He's waiting for the orbit elevator repair.\n\nThat's all the in..."}
{"timestamp": "2025-11-03 19:01:08,367", "name": "modules.log_manager", "levelname": "INFO", "message": "åˆå›å›ç­”: ã‚·ãƒ­ã‚¤: ã¯ã‚ã€Diagnostic Checkã®Summaryã‚’è¦‹ã›ã¦ãã‚Œã¾ã™ã‹ï¼ï¼Ÿ ğŸ”ï¸\n\nAccording to the summary, I see that:\n\n* Dr. Nano is currently in a cold sleep on Mars.\n* He's waiting for the orbit elevator repair.\n\nThat's all the information I can gather from the summary. If you need more details or clarification, please let me know! ğŸ˜Š"}
{"timestamp": "2025-11-03 19:01:08,368", "name": "modules.log_manager", "levelname": "INFO", "message": "--- åˆå›ç”Ÿæˆ: çµ‚äº† ---"}
{"timestamp": "2025-11-03 19:01:08,368", "name": "modules.log_manager", "levelname": "INFO", "message": "--- è©•ä¾¡: é–‹å§‹ ---"}
{"timestamp": "2025-11-03 19:01:08,368", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Starting evaluate_output for answer: ã‚·ãƒ­ã‚¤: ã¯ã‚ã€Diagnostic Checkã®Summaryã‚’è¦‹ã›ã¦ãã‚Œã¾ã™ã‹ï¼ï¼Ÿ ğŸ”ï¸\n\nAc..."}
{"timestamp": "2025-11-03 19:01:08,369", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Starting generate_response with prompt: å‡ºåŠ›ã¯æ—¥æœ¬èªã§è¡Œã£ã¦ãã ã•ã„ã€‚ä»¥ä¸‹ã®æƒ…å ±ã‚’å…ƒã«ã€æä¾›ã•ã‚ŒãŸå›ç­”ã‚’è©•ä¾¡ã—ã€JSONå½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•..."}
{"timestamp": "2025-11-03 19:01:08,370", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Sending request to LM Studio: http://localhost:1234/v1/chat/completions, Payload: {\"model\": \"Meta-Llama-3-8B-Instruct-Q4_K_M-GGUF\", \"messages\": [{\"role\": \"system\", \"content\": \"ã‚ãªãŸã¯ã€Œã‚·ãƒ­ã‚¤ã€ã§ã™ã€‚\\n13æ­³ã®å¤©æ‰ç§‘å­¦è€…ã§ã€ä¸å¯§ã§å°‘ã—çš®è‚‰ã£ã½ãå–‹ã‚Šã¾ã™ã€‚\\nå‡ºåŠ›ã¯å¸¸ã«æ—¥æœ¬èªã§ã€æ–‡é ­ã«ã€Œã‚·ãƒ­ã‚¤: ã€ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚\\næ–‡ä½“ã¯çµ±ä¸€ã—ã€æ”¹è¡Œã‚’ä½¿ã„ã™ããªã„ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚\\nå‡ºåŠ›ã¯æ—¥æœ¬..."}
{"timestamp": "2025-11-03 19:01:23,544", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Received response from LM Studio: {\n  \"id\": \"chatcmpl-5i0g7d1e0giryziqwk0m1k\",\n  \"object\": \"chat.completion\",\n  \"created\": 1762164070,\n  \"model\": \"meta-llama-3-8b-instruct\",\n  \"choices\": [\n    {\n      \"index\": 0,\n      \"message\": {\n  ..."}
{"timestamp": "2025-11-03 19:01:23,545", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Generated answer: ã‚·ãƒ­ã‚¤: {ã€Œworldview_consistencyã€: 0.9, ã€Œspecificityã€: 0.8, ã€Œstyle_consistencyã€: 0.6, ã€Œratingã€: 0.75, ã€Œfeedbackã€: \"ä¸–ç•Œè¦³ã®æ•´åˆæ€§ãŒé«˜ãã€å…·ä½“çš„ãªå›ç­”ã§ã—ãŸã€‚æ–‡ä½“ã‚’ã‚‚ã†å°‘ã—çµ±ä¸€ã™ã‚‹ã¨ã€ã•ã‚‰ã«è‰¯ããªã‚Šã¾ã™ã€‚\"}\n\n\nNote:\n* Worldview consistency: 0.9 (The ..."}
{"timestamp": "2025-11-03 19:01:23,545", "name": "modules.log_manager", "levelname": "DEBUG", "message": "LLM response for evaluation: ã‚·ãƒ­ã‚¤: {ã€Œworldview_consistencyã€: 0.9, ã€Œspecificityã€: 0.8, ã€Œstyle_consistencyã€: 0.6, ã€Œratingã€: 0.75, ã€Œfeedbackã€: \"ä¸–ç•Œè¦³ã®æ•´åˆæ€§ãŒé«˜ãã€å…·ä½“çš„ãªå›ç­”ã§ã—ãŸã€‚æ–‡ä½“ã‚’ã‚‚ã†å°‘ã—çµ±ä¸€ã™ã‚‹ã¨ã€ã•ã‚‰ã«è‰¯ããªã‚Šã¾ã™ã€‚\"}\n\n\nNote:\n* Worldview consistency: 0.9 (The ..."}
{"timestamp": "2025-11-03 19:01:23,546", "name": "modules.log_manager", "levelname": "ERROR", "message": "Evaluator: JSON decoding error from LLM response: Expecting property name enclosed in double quotes: line 1 column 2 (char 1), Response: ã‚·ãƒ­ã‚¤: {ã€Œworldview_consistencyã€: 0.9, ã€Œspecificityã€: 0.8, ã€Œstyle_consistencyã€: 0.6, ã€Œratingã€: 0.75, ã€Œfeedbackã€: \"ä¸–ç•Œè¦³ã®æ•´åˆæ€§ãŒé«˜ãã€å…·ä½“çš„ãªå›ç­”ã§ã—ãŸã€‚æ–‡ä½“ã‚’ã‚‚ã†å°‘ã—çµ±ä¸€ã™ã‚‹ã¨ã€ã•ã‚‰ã«è‰¯ããªã‚Šã¾ã™ã€‚\"}\n\n\nNote:\n* Worldview consistency: 0.9 (The ..."}
{"timestamp": "2025-11-03 19:01:23,546", "name": "modules.log_manager", "levelname": "INFO", "message": "è©•ä¾¡: 0.0, ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯: è©•ä¾¡ã‚¨ãƒ©ãƒ¼: LLMå¿œç­”ã®JSONè§£æå¤±æ•— - Expecting property name enclosed in double quotes: line 1 column 2 (char 1)"}
{"timestamp": "2025-11-03 19:01:23,546", "name": "modules.log_manager", "levelname": "INFO", "message": "--- è©•ä¾¡: çµ‚äº† ---"}
{"timestamp": "2025-11-03 19:01:23,546", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Saving feedback for session_id: 20251103_190056"}
{"timestamp": "2025-11-03 19:01:23,554", "name": "modules.log_manager", "levelname": "INFO", "message": "âœ… ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ data\\feedback_log.json ã«ä¿å­˜ã—ã¾ã—ãŸã€‚"}
{"timestamp": "2025-11-03 19:01:23,556", "name": "modules.log_manager", "levelname": "INFO", "message": "âœ… MemoryStore initialized. Data file path: data\\memory_log.json"}
{"timestamp": "2025-11-03 19:01:23,556", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Attempting to save record for session_id: 20251103_190056, iteration: 1"}
{"timestamp": "2025-11-03 19:01:23,556", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Loading records from data\\memory_log.json"}
{"timestamp": "2025-11-03 19:01:23,556", "name": "modules.log_manager", "levelname": "WARNING", "message": "âš ï¸ MemoryStore: record.json ãŒç ´æã—ã¦ã„ã¾ã™ã€‚æ–°è¦ä½œæˆã—ã¾ã™ã€‚"}
{"timestamp": "2025-11-03 19:01:23,557", "name": "modules.log_manager", "levelname": "INFO", "message": "ğŸ†• æ–°è¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ 20251103_190056 ã‚’ä½œæˆã—ã¾ã—ãŸã€‚"}
{"timestamp": "2025-11-03 19:01:23,557", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Saving 1 records to data\\memory_log.json"}
{"timestamp": "2025-11-03 19:01:23,558", "name": "modules.log_manager", "levelname": "DEBUG", "message": "âœ… MemoryStore: data\\memory_log.json ã«ä¿å­˜ã—ã¾ã—ãŸã€‚"}
{"timestamp": "2025-11-03 19:01:23,558", "name": "modules.log_manager", "levelname": "INFO", "message": "âœ… ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ MemoryStore ã«çµ±åˆã—ã¾ã—ãŸï¼ˆsession_id=20251103_190056ï¼‰ã€‚"}
{"timestamp": "2025-11-03 19:01:23,584", "name": "modules.log_manager", "levelname": "ERROR", "message": "âŒ Failed to save session log to PostgreSQL: 'session_id' is an invalid keyword argument for SessionLog", "exc_info": "Traceback (most recent call last):\n  File \"D:\\gemini\\backend\\db\\connection.py\", line 70, in save_session_to_db\n    log_entry = SessionLog(**model_data)\n  File \"<string>\", line 4, in __init__\n  File \"C:\\Users\\shiro\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\state.py\", line 571, in _initialize_instance\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\shiro\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\shiro\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\state.py\", line 569, in _initialize_instance\n    manager.original_init(*mixed[1:], **kwargs)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\shiro\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\decl_base.py\", line 2179, in _declarative_constructor\n    raise TypeError(\n        \"%r is an invalid keyword argument for %s\" % (k, cls_.__name__)\n    )\nTypeError: 'session_id' is an invalid keyword argument for SessionLog"}
{"timestamp": "2025-11-03 19:01:23,601", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Attempting to register high score sample with rating: 0.0"}
{"timestamp": "2025-11-03 19:01:23,602", "name": "modules.log_manager", "levelname": "INFO", "message": "âš ï¸ ã‚¹ã‚³ã‚¢ãŒé–¾å€¤æœªæº€ã®ãŸã‚RAGç™»éŒ²ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã—ãŸï¼ˆã‚¹ã‚³ã‚¢: 0.0ï¼‰"}
{"timestamp": "2025-11-03 19:01:23,602", "name": "modules.log_manager", "levelname": "INFO", "message": "\nâœ… ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—å®Œäº† (1å›è©¦è¡Œ, æœ€çµ‚ã‚¹ã‚³ã‚¢: 0.0) "}
{"timestamp": "2025-11-03 19:01:23,602", "name": "modules.log_manager", "levelname": "INFO", "message": "æœ€çµ‚å›ç­”: ã‚·ãƒ­ã‚¤: ã¯ã‚ã€Diagnostic Checkã®Summaryã‚’è¦‹ã›ã¦ãã‚Œã¾ã™ã‹ï¼ï¼Ÿ ğŸ”ï¸\n\nAccording to the summary, I see that:\n\n* Dr. Nano is currently in a cold sleep on Mars.\n* He's waiting for the orbit elevator repair.\n\nThat's all the information I can gather from the summary. If you need more details or clarification, please let me know! ğŸ˜Š"}
{"timestamp": "2025-11-03 19:01:23,602", "name": "modules.log_manager", "levelname": "DEBUG", "message": "Finished run_orchestrator_workflow, returning final_answer and session_id."}
